cmake_minimum_required(VERSION 2.8.12)

set(ONNX_PATH ${TDV_ONNXRUNTIME_DIR})

if(WIN32 AND CMAKE_SYSTEM_PROCESSOR STREQUAL "x86_64" OR CMAKE_SYSTEM_PROCESSOR STREQUAL "AMD64")
	set(LIB_NAME "libonnxruntime.dll")
	ExternalProject_Add(${3RDPARTY_ONNXRUNTIME}
	URL ${TDV_ONNXRUNTIME_DIR}
	CONFIGURE_COMMAND ""
	CMAKE_ARGS ""
	BUILD_COMMAND ""
	INSTALL_COMMAND "")
else()
	set(LIB_NAME "libonnxruntime.so")
	ExternalProject_Add(${3RDPARTY_ONNXRUNTIME}
	URL ${TDV_ONNXRUNTIME_DIR}
	CONFIGURE_COMMAND ""
	CMAKE_ARGS ""
	BUILD_COMMAND ""
	INSTALL_COMMAND mkdir -p ${TDV_INSTALL_DIR}/3rdparty && cp -rf ${ONNX_PATH}/. ${TDV_INSTALL_DIR}/3rdparty)
endif()
